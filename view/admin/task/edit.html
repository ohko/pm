{[{ define "body" }]}
<link rel="stylesheet" href="/public/css/daterangepicker.css">
<section class="content-header">
    <div class="row">
        <div class="col-xs-12">
            <!-- general form elements -->
            <div class="box box-primary">
                <div class="box-header with-border">
                    <h3 class="box-title">编辑任务</h3>
                </div>
                <!-- /.box-header -->
                <!-- form start -->
                <form role="form" method="POST">
                    <input type="hidden" name="from" value="{[{.from}]}">
                    <input name="TID" value="{[{ .t.TID }]}" type="hidden">
                    <div class="box-body">
                        <div class="form-group">
                            <label>项目</label>
                            <select class="form-control" name="ProjectPID">
                                <option></option>
                                {[{range .ps}]}
                                <option value="{[{ .PID }]}" {[{if eq .PID $.t.ProjectPID}]} selected {[{end}]}>
                                    {[{.Name}]}</option>
                                {[{end}]}
                            </select>
                        </div>
                        <div class="form-group">
                            <label>名称</label>
                            <input type="text" class="form-control" placeholder="输入名称" name="Name"
                                value="{[{ .t.Name }]}">
                        </div>
                        <div class="form-group">
                            <label>负责人</label>
                            <select class="form-control" name="UserUID">
                                <option></option>
                                {[{range .us}]}
                                <option value="{[{ .UID }]}" {[{if eq .UID $.t.UserUID}]}selected{[{end}]}>{[{.Name}]}
                                </option>
                                {[{end}]}
                            </select>
                        </div>
                        <div class="form-group">
                            <label>日期:</label>

                            <div class="input-group">
                                <div class="input-group-addon">
                                    <i class="fa fa-calendar"></i>
                                </div>
                                <input type="text" class="form-control pull-right" id="reservation" name="Date"
                                    value="{[{.t.Start}]} - {[{.t.End}]}">
                            </div>
                            <!-- /.input group -->
                        </div>
                        <div class="form-group">
                            <label>进度</label>
                            <select class="form-control" name="Progress">
                                <option value="0" {[{if eq 0 $.t.Progress}]}selected{[{end}]}>未开始</option>
                                <option value="25" {[{if eq 25 $.t.Progress}]}selected{[{end}]}>进行中</option>
                                <option value="50" {[{if eq 50 $.t.Progress}]}selected{[{end}]}>暂停</option>
                                <option value="90" {[{if eq 90 $.t.Progress}]}selected{[{end}]}>待验收</option>
                                <option value="100" {[{if eq 100 $.t.Progress}]}selected{[{end}]}>完成</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Git</label>
                            <input type="text" class="form-control" placeholder="输入Git地址" name="Git"
                                value="{[{ .t.Git }]}">
                        </div>
                        <div class="form-group">
                            <label>备注</label>
                            <textarea class="form-control" placeholder="输入备注" name="Desc"
                                rows="5">{[{ .t.Desc }]}</textarea>
                        </div>
                    </div>
                    <!-- /.box-body -->

                    <div class="box-footer">
                        <button type="submit" class="btn btn-primary">提交</button>
                    </div>
                </form>
            </div>
            <!-- /.box -->

        </div>
    </div>
</section>
<script src="/public/js/moment.min.js"></script>
<script src="/public/js/daterangepicker.js"></script>
<script>
    $('#reservation').daterangepicker({
        "opens": "left",
        locale: {
            format: 'YYYY-MM-DD'
        }
    })
</script>
{[{ end }]}